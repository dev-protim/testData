<form [formGroup]="packageUploadForm" (ngSubmit)="handleSubmit()">
    <div class="custom-input">
        <div class="custom-input__label">
            <label for="" class="custom-input__label">Choose Business</label>
        </div>
        <nz-select class="custom-input__group" [nzSuffixIcon]="arrowIcon" nzDropdownClassName="select-dropdown" formControlName="businessName" nzPlaceHolder="Select business" (ngModelChange)="showDevices($event)">
            <nz-option *ngFor="let item of businessList" [nzLabel]="item.business_name" [nzValue]="item.business_id"></nz-option>
        </nz-select>
        <p *ngIf="packageUploadForm.get('businessName').invalid && (packageUploadForm.get('businessName').dirty || packageUploadForm.get('businessName').touched)" class="custom-input__error">
            Please select a name
        </p>
    </div>
    <div class="custom-input" *ngIf="deviceList?.length">
        <div class="custom-input__label">
            <label for="" class="custom-input__label">Choose Devices</label>
        </div>
        <nz-select class="custom-input__group" nzMode="multiple" [nzSuffixIcon]="arrowIcon" formControlName="device" nzPlaceHolder="Select business" (ngModelChange)="showPackage($event)" [nzFilterOption]="nzFilterOption">
            <nz-option nzValue="jack" nzCustomContent>
                <input type="checkbox" (change)="allCheck()">All
            </nz-option>
            <nz-option *ngFor="let item of deviceList[0]?.device_info;" nzCustomContent [nzLabel]="emptyData" [nzValue]="item.device_id">
                <input type="checkbox" (change)="passValue(item.device_name, item)">{{item.device_name}}
            </nz-option>
            <!-- <label nz-checkbox [nzValue]="item.device_name" (ngModelChange)="passValue($event)">{{item.device_name}}</label> -->
        </nz-select>
        <p *ngIf="packageUploadForm.get('device').invalid && (packageUploadForm.get('device').dirty || packageUploadForm.get('device').touched)" class="custom-input__error">
            Please select a name
        </p>
    </div>
    <!-- <div class="custom-input">
        <div class="custom-input__label">
            <label for="" class="custom-input__label">Status</label>
        </div>
        <nz-select class="custom-input__group" [nzSuffixIcon]="arrowIcon" nzDropdownClassName="select-dropdown" formControlName="status" nzPlaceHolder="Select status">
            <nz-option *ngFor="let item of packageStatus" [nzLabel]="item" [nzValue]="item"></nz-option>
        </nz-select>
        <p *ngIf="packageUploadForm.get('status').invalid && (packageUploadForm.get('status').dirty || packageUploadForm.get('status').touched)" class="custom-input__error">
            Please select one
        </p>
    </div>
    <div class="custom-input">
        <div class="custom-input__label">
            <label for="" class="custom-input__label">Type</label>
        </div>
        <nz-select class="custom-input__group" [nzSuffixIcon]="arrowIcon" nzDropdownClassName="select-dropdown" formControlName="type" nzPlaceHolder="Select type">
            <nz-option *ngFor="let item of packageType" [nzLabel]="item" [nzValue]="item"></nz-option>
        </nz-select>
        <p *ngIf="packageUploadForm.get('type').invalid && (packageUploadForm.get('type').dirty || packageUploadForm.get('type').touched)" class="custom-input__error">
            Please select one
        </p>
    </div>
    <div class="custom-input">
        <div class="custom-input__label">
            <label for="" class="custom-input__label">Installed</label>
        </div>
        <nz-select class="custom-input__group" [nzSuffixIcon]="arrowIcon" nzDropdownClassName="select-dropdown" formControlName="isInstalled" nzPlaceHolder="Select type">
            <nz-option *ngFor="let item of isInstalled" [nzLabel]="item" [nzValue]="item"></nz-option>
        </nz-select>
        <p *ngIf="packageUploadForm.get('isInstalled').invalid && (packageUploadForm.get('isInstalled').dirty || packageUploadForm.get('isInstalled').touched)" class="custom-input__error">
            Please select one
        </p>
    </div> -->
    <ng-template #arrowIcon>
        <i class="flaticon-down-arrow"></i>
    </ng-template>

</form>
<button class="main-btn" (click)="handleSubmit()">Submit</button>
<!-- <button class="main-btn" (click)="handleSubmit()" [disabled]="packageUploadForm.invalid">Submit</button> -->

<!-- <nz-select nzMode="multiple" nzPlaceHolder="Please select">
    <nz-option *ngFor="let item of newArrayList" [nzLabel]="item" [nzValue]="item"></nz-option>
</nz-select> -->
<!-- <input type="checkbox" (change)="passValue($event)"> -->
<form [formGroup]="testForm">
    <div class="row">
        <div class="col-md-6">
            <ul class="list-group">
                <li class="list-group-item">
                    <input type="checkbox" name="list_name" value="m1" [checked]="checkAllSelected()" (click)="selectAll($event)" /> <strong>Select/ Unselect All</strong>
                </li>
            </ul>
            <ul class="list-group">
                <li class="list-group-item" *ngFor="let item of checklist; let i = index;">
                    <input type="checkbox" formControlName="{{i}}" name="list_name" value="{{item.id}}" /> {{item.desc}}
                </li>
            </ul>
        </div>
    </div>
</form>
